language: objective-c
osx_image: xcode7.3
before_install:
- brew update
- brew install tailor
- gem install fir-cli
script:
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/profile/$PROFILE_NAME.mobileprovision.enc
  -d -a -out scripts/profile/$PROFILE_NAME.mobileprovision
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.cer.enc -d -a
  -out scripts/certs/dist.cer
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.p12.enc -d -a
  -out scripts/certs/dist.p12
- ./scripts/add-key.sh
- . $bulidTask
after_success:
- ./scripts/sign-and-upload.sh
after_script:
- ./scripts/remove-key.sh
include:
- CavyLifeBand2
env:
  matrix:
  - bulidTask: bulid.sh
  - bulidTask: uitest.sh
  - bulidTask: test.sh
  global:
  - APP_NAME="CavyLifeBand2"
  - 'DEVELOPER_NAME="iPhone Distribution: Hangzhou Cavy Technology Co., Ltd."'
  - PROFILE_NAME="CavyLifeBand2"
  - secure: d3MBUUe6ahS0TLIn40x3RcgCVqvlTIh9cM6P7gHJ/gePRUpV1DZ4cx9+zHCE2btBEfhRDRsukq/37oRQFZX+TtGsfmDbHgbShYslLZLVxZNMj0yhloShYBNf3DukLejs9Fv14khAspBkxdUGjKxVRWhiqcQMcBoaRStPr0naiSY3AOMRtIwLd64uBGnds60mgiAn/OSXnft7kPWt7z//1Nikm/M5u6iy0Gh6ADYZAL5pN1A7GCutKkBbbMf1FKvg1KndjW2mkiKm3SfsmxR2uiPtwk1mKGsuuuDyrrqW595ItVPQcu78n+fHv95FlqiyUAREpJYjqxMHBFHYGVe9AUkMHUSYBZyQKTxs9WQ1mDoZEO1eP74xOqwxsx96HrhDj5dRlmj7jBGHy8mSnjHy8lXshLdMBjv2JqQ0hUQj2rOmIodCHBOZixEyyaYVU6QBccFpiYQ9io+j0h83/eA/YoKA4mbgYAmCOTLhX9PVaEymdu1xehDym4a6XeRWUI5NFRtjk8IKqx4bnEv79xA4ONbje3yU0Z/BIKLlH7hcQ2YwUl71leezQ6zmDU/8YfE5Bi3DOi8OJukvGCcGqMQmYOP1Ft/evyaeBvkzBdzCsSWN0DOD7g3VlzkDCqXaTfSdHxs4i5VaKj0C5zP/UwwtBUfarllEwS4nSa49AAfKleY=
  - secure: hCkBB3lrIMt2Dz6JDy0enNuRFvLhtuOa8TDmNI+C7H09CCkWzPI87SRgDYvS5H1TWJL/N6OkPAf2I0hV/cF3ucyCyRRZWNISukWDPeCv8TB3V2hdcdsccU/XF+23Ym5gvvVBCRQXXnCKXV9+n5aBy8LQ1KJpNn4FcNxJt3T9Lpc/VCcl4bR5f6ioqtdWAXRsH1gz8A3sVo846eu3qjuDMdWmJhCyI8UdBANXVjKV2sXHyhT8jgs0GrBc9YlqGcrNg7f7fIby8RJcAaQTQ7SZETb4YX+RT3DGfHjz3kNEHqDhbcsgHRdcW0l0UfdAbsyWO7khkH6gC8CraF53Cpjwns7J+eTC9DRWMys1Nrp5TDoS1egm0UfQo1+Lijhz3XqEmZrWXqj3+vngWQ5n1luow/4tNSlNYY00YAdFE3Qphjk2eVuhQQtGjelB8vZJfTiQQjrotd9l2sDSc9HaZ19VFWyas2+T3T/159idMwzWfW750mkWMoDd3fRoBzM1ek0ENrdiKlwjFijGN8Jpub7BDwLzbv68yGxDuKQinFTpFMOA/Vf7l9z0Q5Z4neRitLVxuCiMUcjG2cFQKX6Bn0NBtssYeT0IC7ITlV2V0gM1jKXy/ojSUDIWdTBGrzvFBufibOt/rgLqJg4vanR8dePCTBTUlWW/3KlVQuplDLiOtwc=
  - secure: ZW0dgU5e7WzweNl2wYOxiO9hi05SivZtMnuPpQjEMzdnm4RkUmhc/OA1CQZtmXjekqXhxPTx5T40x1SX6cHyheTEh68gPgy2ZgVT8sFJszF7dmsxYqeOgogpdCiCNvJ4WWs2dtHdtIoJzOQFVxw81x0TC3zWlUaIt9saOR6M635J0RvZsvsjn89XrGegHtyYdAx5adI5TGu+9bZtqt9fSfCsSsd/4nFfscd5WRbzaVwk0RcJM+NngXqa9O6547+pDOVC0h0emax7a1zzZr5XRyj0Ipg/n2KC+2t6u6sNDGVZZpsaohkdTOatbMT1yuFYP6fFl2R/HtKO5Ee4nJLk0bYXIlHJg8DW0CsdreCIgoDiIpSYN7sxCqmsjplBsqjwFZVKa+u970GTPZ8R7q5F41vNbbuWBQoiQSLKw/uSRD7A1DH67oQNSqG75UzG2vpDY58x18iB51ipUwsyTX5agvoPqKJfXr+WaXUqFxlUKxT1quuWjMP30Iv8Hp+k+/V+CIk7hbS4Nd5cCPv2Xk/nuGYIpApBa4eeTvuJy7SEde+jP9HwnNP47ZrhezcodAY9nMeWXZSh0O+sihfbI6+cZurmi6tp4slY0C5DQGjzFQ4j+WMlzRyxnovrtGirfl48qhqKtTVKh28+p+1l3X6oohxjVLj57Y6f2Rzc8n9HfEc=
  - secure: DJwMU+UiELm3VRKngGnWwA3QbnVnjZC2n2DIoRvKSBlsXqvaZb4w8hece4tbPDeGwlwtEjVFmW8MpK6/Ue3RCAwAa/l5LpJyfab+EeoCtEIIn63WrcHvE5i3ZDLuK+wDKr7k549VXhouNXWw8XLn5jbfLWo5Lh+vYSZW0hvmUl8QrK781MugUDxyv72spmHDwkdIJu47wSby9P0Ci2ZG4BXJCQtzdjtfDPo5t6VQJFM71LoDcMLcCfl1tzFL5QwYMebCRivke74gV66+hBODSHV6BUokU/VNAAgd6Widq4Q3SdPC9Kh7IexF/aT+P5wjhpVoSVy2iFEKOAafTiepVEqotC1C7NbpxsI906RY1+4bgvek7agu5RYG/Hl9/OM+UhlAXw6fHBkTEqlhvdU1zSH7Hw7RvtLFwdD4OvHmxoHyXiAcGaD6QFnMj1wY5fm4rU8sr16UQDzE9iOqGpKcvj9OgDbJXnGdO+LH9h7WASaWOSpZGV2cFMouks02hQ8kQhdITNzTRhwK5eZlVw7H7j4CaW8Nd7dB7fSr7w98UFh26/QLtmmU0MHg054tBG8AgZE/Ze2TE07HC5IAgi4mhM7nfEzByi82SpW5AVztlBsttBmyyip3U1PUzD3Pqa8CBxRXQ0NeGrXwK79xLBtrct/4AHszZ9Sg7I/Tx6r10Bg=
  - secure: C1RDTvc5U2QgbiN0peYeFQ82eKO0GSrL2qLuwLlpFDzYzmmAsAxNNqdZDmhLP9R0mhp1gjqfc2eg85DqzcILDq93q+hPAwh8Um7PeAU/oj/ExYGfUmKzMLXHan3ul4sCvQmEK2oxzYpIM7X8fHh8LIx1Pm2+EhzAxjw9zq+20RMNi7h5FWv+Om/4cR5ilFu+4J9OYMEBbpkgx8mYttuAaoIMXDqpPxjxUsooUDORPGmtXr6dSvvak1kl69yJIT5veZtuNOs79j7qkhWro993w5AV4jJzO8bjK6YXx7zeSS1XG1ZM2Rt72azTy3mxt8qSnOH7KB1lGo9TCa8GzYwYqfNe0NyQKBia6yrVEorUFBhUTuLH6VWyR668dt//MXWrXo72p/zTghpm7TLRvos5OTLZKzJTqb7/A9Ft88eHf2kJdsPVg7j+XvRJnCYRKgfgr0uiCMcfazRJabvN8FUZbhN78iLiGzwpkSELGQKHXAXY397ms+zPd0kEX5bnSi5qYdapVYE29+To01cP1dJE2m+hJOXeBok1HI83Xclj6HzEUPjtduj8kwoyQ7eDVQkHWVyWqSzbn66Gm5fymHk3ep6i8NhYQ66N6apd3VA+I4BbQQlBCy9v713j5pb9eFqkKwoHB0OtyzrOsymdfod6JsLGRhxTiOJpfSlb82Tl6IQ=
  - secure: Za3JCOy65mKRcN6DWIdSX/8CT3bWlBK91MD17Aw4fBEkWC4bmIrCldxcw+/czrErBjVpg6Yq2dmO/r6ddwR4Z9Ib45VZfBVl4RpSS64arsQznz9p8feJhgn0FZI8s4Orj0Umcfs7aIgkeV7/jn9vTh6VC8WNOSygfa3iDM5fCz3OkCLYAam8wN0S4lIMkD9QVJJH2JlIDVIGk5KnGSpKC1YGNPAaDC7Q6uXJ22/L6HKRdLpaYH1Gv2LQVA++hZRtJXOqIkW0TDjAKl0lKlz1GXRlv/uZoIQHTy4ivDrN80Hr5YWI2gYbSDbzLKnUFOp4cK6lcRi9p3rrpsdttoICnjwcIdkvZLJB31ZzdxnChjPEeReCTrZQ4S6wMJsTL5rctjEQjDA9PddfOPJ5LoaPMQ918Cp6T6liIZUqMr/K7RFOxneA6lpaWG3NYNnz+SxWyu5zi9L2r23uX3MHoUzFw/X4Rh1T6zlrYc5BXGwjBcd1Ajh423kTeJyWYndKqTIdus+77PSuqpOEOQAsJO6ymdCg8BPgC993muVddk1uKlswKR/AB3MX4QN0dL/6N5KGiYYxdEsxJ4lsRMcdsKYMYI8+lU+Ggc3ZT+NpKzulv36v4U7cb/eflP04Z3bvio1LveqJ9zmRTwNMeCWa42EIHEIldYBRoKsGUiNgvp/bF7o=
