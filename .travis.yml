language: objective-c
osx_image: xcode7.3
before_install:
- brew update
- brew install tailor
- gem install fir-cli
script:
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/profile/$PROFILE_NAME.mobileprovision.enc
  -d -a -out scripts/profile/$PROFILE_NAME.mobileprovision
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.cer.enc -d -a
  -out scripts/certs/dist.cer
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.p12.enc -d -a
  -out scripts/certs/dist.p12
- ./scripts/add-key.sh
- . $bulidTask
after_success:
- ./scripts/sign-and-upload.sh
after_script:
- ./scripts/remove-key.sh
include:
- CavyLifeBand2
env:
  matrix:
  - bulidTask: bulid.sh
  - bulidTask: uitest.sh
  - bulidTask: test.sh
  global:
  - APP_NAME="CavyLifeBand2"
  - 'DEVELOPER_NAME="iPhone Distribution: Hangzhou Cavy Technology Co., Ltd."'
  - PROFILE_NAME="CavyLifeBand2"
  - secure: YvDogxcFXMWvg/dr5hRmOlz211U1LI2HH2KABL5yG2tZkMOZwO/wWhZ6ruh65m2bQEXj0h2WRerHmE7Cm8oXr/A12gyPfWsmA06+QdDoyKBagGNd/2QnZW0L5nDfBatUui6RJ7LBJoGXp3K9GAzfP9M4u0ZBxlrb7ol9kfUL+IH/YHuOw+dn22gAZjIqz9rntxbfsmGfBImbw4fL+37sMRIcf2pO35htXg7r+On84GhKSjF7SwFNfl7hBzqhDKVmiZVp8czrmRtW3lIQmhRG2zYgrTqbg43sFtFljanETOSexJkMwKikLQdh32bCH6Mtv9Qg1AU/Sgq6oXGoJRMg2Kqf6u/5f08/IgYFCg49Xrbl38aefIgJWDIJhPH/zsMZOtRMcVEVEVLtoceXySA0tu43VcYuDH924LQHPRHr3816Nsxnl287dRXud9ZD88GBkxES+q29kRsSS12HGTJer8YuCON8QyLOFcxrG7l/FOxoghWZfc+y8lvPU0TWc7c+Waf97Qz70bYvhYYG1G6ZwWyXJL6EQ3b/xGg0qtlIiMkBj+KaXu1G9KEdWwZxUHAO4Qxji5kxc3xBWN3HoO0BjOv9Rx93hPkCV5AMPKVWcnB6LaPJVFyB0y3c1nTIqK7LKOh/POAguaATZhlfPxa+eoHNEHhzxoAehVNo0ZDKIDQ=
  - secure: ZDEA9TQEoScnLrg+zoC0fKc4aw0zPuAAQL5GkVC2U46lifaxR28bB5ncq57WyISuM9qyO1u9jGUIabkxmoTu9MGHA2HlvIF5FrBhnhMo+Fqz6gxvsMexuMmanid0U05ZBny/ULmGoN3+hHnC3ROQfLWiZ8FSnq3kaJZlPMwgqFaCeNvJFD6Ejs8v8Mna6wlO7tRER3GMGUfFtQqGGNzCKrAYL2Wri4bqoedvzi4CM2j1f0UeqN8wRdlasbV+DNwb/Xjv6LNzGnh6MGqngZ4VHR5AtMT9m/O8lr9TZncjjaqURyk+0aPz960BtBbwazA1MBZ2IsJgiybmd7iYs5fUvl59FGD87sXfpdC4k5oF5lWUax6Ju28yXeuR8Dre8UAEIKlgHwEGhiDsJ5ZV+TxIhugiPeXy2KOsusiuWqG17HR5ziV2p/CX+F4Lc3AgNzBager5KSSBd0mj7kFRpCOCmfTW4pkUJVoKeEY2ocCilKjLbrAjkDx5jcL7arbiLRNUR/jxc10Hzys42kpuEWKP9KfBbPmuQQ6ZZes/v7LDiLIldZMlfdnQb8rXoBdm8DHC8bDiQo6yQoJ84XnNI+vQSNKpDjTzZCPzFkWGQxdC8kdJZ3zAuF/IFnrwcFsIab3b8c2w7O1RTEloqAqKG8jxICZWiDy+kHMiwk2i91KwDTI=
  - secure: UpxEcY0AYZ3HPeE6s18sbvXQcJsDRr5DvcdW9qd+ozFBiSGtnsqzMt3JxPHnMP0IAQwaBHvLK9Y3LlmXfMap8TSZrZB6FYjnP2v8WAU3Rq6gEnr8FIgTNgVQgScU6RVfMA2eYBzmiAH346ThnWYGHV1xjexRKuZaxSdfqP+lKAO9mW+Djt3GZE4mgrBkenjZF1brLmeGaKjry4UxycGwfJS8gKN0HpoxLZVhWbgkdzBc8wFT+bTrgRpOiCSuHZVrjcNo4NBwvpVLux8qGXtBHYf3uuDG4K+rUYICqEtPIY7I/ItOsdOe4FEg0hUTPQwvxxBDp5TxA7lxoh05guVGgLpmELJccW0lI7iZVZ5uMxZJ2iSA7ub3dktW0g/qMwnkSJmWHJWe71Zo/Q2TDUbImtiAtWPDgZSMvy/hzXbCZt/YFVcuPQHBpZ9tvp76Ci2LVdl7QQVFolfN3vp8Cyz/fnE0CvMn4DNWTRzRj7XkVY5MIdYCJCxURmpyrSKmPEU4bFI2xqyzqrIaRzuOSYiwWC6jrvtZfntWRhsHZPemoUXbt1Ci9ytbn/VsltWrFVQXmV3aGqDMh/vAcp/moneBdhHpdl4kaiweqzUnq4pPNlIEVmWvVlSwkLJudB6OQGTbGNJyrnk4vf9LIWT2O5snJZhSgYPOMc5kxL5yhNx9KrY=
  - secure: ifGI2B/2nRYNRxRsBSimVAV7vHFJPJxT/Q5uFHioRLQuAX8zESsh5uYVGLrgeHxqLwP/hwbosKr6u5QzfThxVUKnBWhVEPjj+id2ZmFd9hxLs3X2Mzn8/QHXiY7JgLbf5fB6XTgNr5TlUjrtZzDrJVmV+H2GTti1NS41VQ6juuq0oT9mCxSAPpNlT5EJ6fbh5lpNL+X0J+M/29KY5Ox4ZobLcnDMZNod3v/rinR7LTK/IOhPrwGfSdfYZc2tgzIBng82O3l8Jg53UluncjarTUvA1C6Q2EajlCcfvi4eccpc9kf6qiYi1D3rAPCHSUzqgJgABnuSMWggO4kPhj4frCQixI9iLT2nMSOB8M94QpHGOMFHXnAPFSvFt4WcG3eFwaiiUT4rOyhsRtV+Ca+QXKxpCYNSM118r41p2bUQuMg1jymUT8kfJs51T4D1IMiaMG2G2z0u/VZNos9KCsglXR/cuMZno3USGtEPxJ7jk2Uk2HAKji76k4tSk2LSAKmo2CsHrHG6h85HCLiAo7+VjeAkA85eaEKLsm0BO/OVOFeUHfDwscCHWSOUmH/CPwt8ULEQ2GehhJpp9/KOpto9ciQSJ/HGWhx89DRQPYsqsVGkBJv/cDhY/Ht+pkViBZxid4Y/DKTWExlRtLNijj/D9qrFxEP/dcrgtj2EKpMWfuU=
